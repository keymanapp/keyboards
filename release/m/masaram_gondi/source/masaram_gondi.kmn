c masaram_gondi with name "Masaram Gondi (ITRANS)" 
c Font
c NotoSansMasaramGondi-Regular from Google
c by Rajesh Kumar Dhuriya

store(&VERSION) '10.0'
store(&NAME) 'Masaram Gondi (ITRANS)'
store(&COPYRIGHT) 'Â© Rajesh Kumar Dhuriya'
store(&KEYBOARDVERSION) '1.2.2'
store(&TARGETS) 'any'
store(&VISUALKEYBOARD) 'masaram_gondi.kvks'
store(&LAYOUTFILE) 'masaram_gondi.keyman-touch-layout'
store(&KMW_HELPTEXT) 'https://gondidarshan.org/keyboard'
store(&MESSAGE) 'This keyboard is for typing the Gondi language in the Masarm Gondi script.'

group(main) using keys
store(&BITMAP) 'masaram_gondi.ico'

begin Unicode > use(main)

store(opt1) 'gondi'
+ [RCTRL RALT K_0]	>	set(opt1='0') 
+ [RCTRL RALT K_1]	>	reset(opt1)

c	Special Symbols

+ "#"	>	"#"
+ "$"	>	"â‚¹"
+ "%"	>	U+0FD5	c à¿• RIGHT-FACING SVASTI SIGN
+ "*"	>	"â€"
+ "&"	>	"â˜¸"
+ "V"	>	"à¤½"	c AVAGRAHA
+ "`"   >   "Ê¼" c U+02BC apostrophe for Bodo,Dogri, and Maithili

+ "_"	>	U+200C	c ZERO-WIDTH NON-JOINER
+ "+"	>	U+200D	c ZERO-WIDTH JOINER
+ "^"	>	"ð‘µ„"	c VIRAMA

c	Punctuation
store(Punctuation) "!" "'" "(" ")" "-" "/" ":" ";" "" "?" '"' "," "." "=" "<" ">" "|"
+ any(Punctuation)	>	index(Punctuation,1)

+ "~"	>	"~" c Breaks Hindi mode rules if included in punctuation
+ "@"	>	"@" 

"," + ","	>	U+0970	c	DEVANAGARI ABBREVIATION SIGN

"." + "."	>	"à¥¤"	c twice for DANDA
"à¥¤" + "."	>	"à¥¥"	c thrice for DOUBLE DANDA
"à¥¥" + "."	>	U+2026	c four dots for a HORIZONTAL ELLIPSIS

"-" + "-"	>	U+2013	c hyphen twice for EN DASH
U+2013 + "-"	>	U+2014	c three times for EM DASH

c	numbers - Devanagari DigitsU
store(Digits)	"0"		"1"		"2"	 "3"		"4"		"5"		"6"		"7"		"8"		"9"
store(DigitsU)	"ð‘µ"	"ð‘µ‘"	"ð‘µ’"	"ð‘µ“"		"ð‘µ”"		"ð‘µ•"		"ð‘µ–"		"ð‘µ—"		"ð‘µ˜"		"ð‘µ™"
+ any(Digits)	>	index(DigitsU,1)
any(DigitsU) + [K_BKSP]	>	index(Digits,1)

c standalone vowel signs with @
"@" + "A"	>	"ð‘´±"
"@" + "i"	>	"ð‘´²"
"@" + "I"	>	"ð‘´³"
"@" + "u"	>	"ð‘´´"
"@" + "U"	>	"ð‘´µ"
"@" + "e"	>	"ð‘´º"
"@" + "o"	>	"ð‘´½"
"@" + "E"	>	"ð‘µƒ"
"@" + "a"	>	"@a"
"@a" + "a"	>	"ð‘´±"
"@a" + "e"	>	"ð‘µƒ"
"@a" + "i"	>	"ð‘´¼"
"@a" + "u"	>	"ð‘´¿"
"ð‘´²" + "i"	>	"ð‘´³"
"ð‘´´" + "u"	>	"ð‘´µ"
"ð‘´º" + "e"	>	"ð‘´³"
"ð‘´º" + "i"	>	"ð‘´¼"
"ð‘´½" + "o"	>	"ð‘´½"
"ð‘´½" + "u"	>	"ð‘´¿"
"@" + "R"	>	"ð‘´¶"
"@" + "r"  > "ð‘µ†"
"ð‘´¶" + "R"	>	"ð‘´¶" c @RR
"@" + "q"	>	'ð‘µ€'
"@" + "Q"  >  "ð‘´±ð‘µ€"
"@" + "\"	>	"ð‘µƒ"
"@" + "z"	>	'à¥–'
"@" + "Z"	>	'à¥—'

c Independent Vowels
+ "a"	>	"ð‘´€"
"ð‘´€" + "a"	>	"ð‘´"
+ "A"	>	"ð‘´"
+ "i"	>	"ð‘´‚"
"ð‘´‚" + "i"	>	"ð‘´ƒ"
"ð‘´†" + "e"	>	"ð‘´ƒ"
+ "I"	>	"ð‘´ƒ"
+ "u"	>	"ð‘´„"
"ð‘´„" + "u"	>	"ð‘´…"
"ð‘´‰" + "o"	>	"ð‘´…"
+ "U"	>	"ð‘´…"
+ "["	>	"ð‘´†"
+ "e"	>	"ð‘´†"
+ "E"	>	"ð‘´†"
"ð‘´€" + "i"	>	"ð‘´ˆ"
"ð‘´†" + "i"	>	"ð‘´ˆ"
+ "]"	>	"ð‘´‰"
+ "o"	>	"ð‘´‰"
+ "O"	>	"ð‘´‰"
"ð‘´€" + "u"	>	"ð‘´‹"
"ð‘´‰" + "u"	>	"ð‘´‹"
+ "{" > "ð‘´ˆ" c DEVANAGARI LETTER AY
+ '}' > 'ð‘´‹'

c Vowel Modifiers
+ "H"	>	"ð‘µ" c VISARGA - H
+ "M"	>	"ð‘µ€" c ANUSVARA - M
"ð‘µ€" + "M"	>	"ð‘µƒ"	c CHANDRABINDU - MM
"ð‘µ€" + "R" > "ð‘µ†"
c Consonants
+ "b"	>	"ð‘´¢ð‘µ„"
+ "B"	>	"ð‘´£ð‘µ„"
+ "c"	>	"ð‘´‘ð‘µ„"
+ "C"	>	"ð‘´’ð‘µ„"
+ "d"	>	"ð‘´ð‘µ„"
+ "D"	>	"ð‘´˜ð‘µ„"
+ "g"	>	"ð‘´Žð‘µ„"
+ "G"	>	"ð‘´ð‘µ„"
+ "h"	>	"ð‘´¬ð‘µ„"
+ "j"	>	"ð‘´“ð‘µ„"
+ "J"	>	"ð‘´”ð‘µ„"
+ "k"	>	"ð‘´Œð‘µ„"
+ "q"   >  "ð‘´Œð‘µ‚"
+ "Q"   >  "ð‘´Œð‘µ„"
+ "K"	>	"ð‘´ð‘µ„"
+ "l"	>	"ð‘´§ð‘µ„"
+ "L"	>	"ð‘´­ð‘µ„"
+ "m"	>	"ð‘´¤ð‘µ„"
+ "n"	>	"ð‘´Ÿð‘µ„"
+ "N"	>	"ð‘´šð‘µ„"
+ "p"	>	"ð‘´ ð‘µ„"
+ "P"	>	"ð‘´¡ð‘µ„"
+ "r"	>	"ð‘´¦ð‘µ„"
+ "R"	>	"ð‘´¦ð‘µ‚ð‘µ„" c Marathi eyelash ra
+ "s"	>	"ð‘´«ð‘µ„"
+ "S"	>	"ð‘´ªð‘µ„"
+ "t"	>	"ð‘´›ð‘µ„"
+ "T"	>	"ð‘´–ð‘µ„"
+ "v"	>	"ð‘´¨ð‘µ„"
+ "w"	>	"ð‘´¨ð‘µ„"
+ "W"	>	"ð‘´¨ð‘µ„"
+ "x"	>	"ð‘´®ð‘µ„"
+ "y"	>	"ð‘´¥ð‘µ„"
+ "z"   >  "ð‘´“ð‘µ‚ð‘µ„"
+ "f"	>	"ð‘´¡ð‘µ‚ð‘µ„"

c duplicate mappings for ease of typing consonants

+ "F"	>	"ð‘´ð‘µ„"
+ "X"	>	"ð‘´¯ð‘µ„"
+ "Y"	>	"ð‘´•ð‘µ„"
+ "Z"	>	"ð‘´°ð‘µ„"

c Nukta with preceding dot
"." + "k"	>  ".ð‘´Œð‘µ„" c .k
".ð‘´Œð‘µ„" + "h" >	 ".ð‘´ð‘µ„" c .kh
"." + "g"	>	".ð‘´Žð‘µ„" c .g
"." + "j"	 >	"ð‘´“ð‘µ‚ð‘µ„" c .j
".ð‘´“ð‘µ„" + "h" >	 ".ð‘´”" c .jh
"." + "D"   >  "ð‘´˜ð‘µ‚ð‘µ„" c .D
"ð‘´–ð‘µ„" + "h"  >  "ð‘´—ð‘µ„"
"." + "f"	 >	"ð‘´¡ð‘µ‚ð‘µ„" c .f
"." + "n"	 >	"ð‘´Ÿð‘µ‚" c .n
"." + "r"	 >	"ð‘´¦ð‘µ‚" c .r
"." + "L"	 >	"ð‘´­ð‘µ‚ð‘µ„" c .L
"." + "y"	 >	"ð‘´¥ð‘µ‚ð‘µ„" c .y
"." + "c"	 >	".ð‘´‘ð‘µ„" c .c - ca plus nukta for Konkani

c alternate mapping with ~
"~" + "n"	>	"ð‘´•ð‘µ„" c ~n
"~" + "N"	>	"ð‘´ð‘µ„" c ~N

c add h to consonants
"ð‘´Œð‘µ„" + "h" >	 "ð‘´ð‘µ„"
"ð‘´Žð‘µ„" + "h"  >	   "ð‘´ð‘µ„"
"ð‘´‘ð‘µ„" + "h"	>	"ð‘´’ð‘µ„" c same c=ch
"ð‘´’ð‘µ„" + "h"	>	"ð‘´’ð‘µ„" c same C=Ch
"ð‘´“ð‘µ„" + "h"	>	"ð‘´”ð‘µ„"
"ð‘´›ð‘µ„" + "h"	>	"ð‘´œð‘µ„"
"ð‘´˜ð‘µ„" + "h"	>	"ð‘´™ð‘µ„"
c "ð‘´›ð‘µ„" + "h"	>	"ð‘´œð‘µ„" c see line 189
"ð‘´ð‘µ„" + "h"	>	"ð‘´žð‘µ„"
"ð‘´ ð‘µ„" + "h"	>	"ð‘´¡ð‘µ„" 
"ð‘´¢ð‘µ„" + "h"	>	"ð‘´£ð‘µ„"
"ð‘´ªð‘µ„" + "h"	>	"ð‘´ªð‘µ„" c same S=Sh
"ð‘´«ð‘µ„" + "h"	>	"ð‘´©ð‘µ„"

"ð‘´ð‘µ„" + "Y"	>	"ð‘´¯ð‘µ„"	c	GY
"ð‘´šð‘µ„" + "g"	>	"ð‘´ð‘µ„"	c	Ng

store(Vyanjana) 'ð‘´Œð‘´®ð‘´ªð‘´ð‘´Žð‘´ð‘´ð‘´‘ð‘´’ð‘´“ð‘´¯ð‘´”ð‘´•ð‘´–ð‘´—ð‘´˜ð‘´™ð‘´šð‘´›ð‘´œð‘´ð‘´žð‘´Ÿð‘´ ð‘´¡ð‘´¢ð‘´£ð‘´¤ð‘´¥ð‘´¦ð‘´§ð‘´­ð‘´¨ð‘´ªð‘´«ð‘´¬ð‘´©ð‘´°'
store(NuktaVyanjana) 'ð‘´Œð‘´ð‘´Žð‘´“ð‘´”ð‘´˜ð‘´™ð‘´¡ð‘´Ÿð‘´¦ð‘´­ð‘´¥ð‘´‘'
store(ViramaMaatraa) 'eiouAEIOrRU[]W{}qQzZ\'
store(ViramaMaatraaU) "ð‘´º" "ð‘´²" "ð‘´½" "ð‘´´" "ð‘´±" "ð‘µ‡" "ð‘´³" "ð‘´±" "ð‘µ†" "ð‘´¶" "ð‘´µ" "ð‘´º" "ð‘´½" "ð‘´º" 'ð‘´¼' 'ð‘´¿' 'à¤º' 'ð‘´±ð‘µ€'  'à¥–' 'à¥—' "ð‘µƒ" "ð‘µ…"
store(opt1endings) outs(Punctuation) ' '

c store(ViramaMaatraaU) "ð‘´º" "ð‘´²" "ð‘´³" "ð‘´´" "ð‘´±" "ð‘µƒ" "ð‘´³" "ð‘´¶" "ð‘´µ" "ð‘´½"  'ð‘´¿' 'ð‘µ€' "ð‘µƒ" "ð‘µ…"
store(aPlusMaatraa) 'aeiuw'
store(aPlusMaatraaU) "ð‘´±" "ð‘´º" "ð‘´¼" "ð‘´¿" "ð‘µƒ"
$keymanonly: if(opt1 = 'gondi') any(Vyanjana)"ð‘µ„" + any(opt1endings)	>	index(Vyanjana,2) index(opt1endings,4)
$keymanonly: if(opt1 = 'gondi') any(Vyanjana)"ð‘µ„" + "`"	>	index(Vyanjana,2) "Ê¼"
$keymanonly: if(opt1 = 'gondi') any(Vyanjana) + "^"	>	index(Vyanjana,2) "ð‘µ„" U+200C
$keymanonly: if(opt1 = 'gondi') any(Vyanjana)"ð‘µ„" + "^"	>	index(Vyanjana,2) "ð‘µ…" U+200C
$keymanonly: if(opt1 = 'gondi') any(Vyanjana)"ð‘µ„" + any(Vyanjana)	>	index(Vyanjana,2) U+11D45
any(Vyanjana)"ð‘µ„" + "^"	>	index(Vyanjana,1)"ð‘µ…"
any(Vyanjana)"ð‘µ„" + "a"	>	index(Vyanjana,1)

c any(Vyanjana)"ð‘µ„" + any(ViramaMaatraa)	>	index(Vyanjana,1) U+11D45

any(Vyanjana) + any(aPlusMaatraa) 	>	context index(aPlusMaatraaU,2) 
any(Vyanjana)"ð‘µ„" + any(ViramaMaatraa) 	>	index(Vyanjana,1) index(ViramaMaatraaU,3) 

any(Vyanjana)"ð‘´²" + "i"	>	 index(Vyanjana,1)"ð‘´³"	 c ii
any(Vyanjana)"ð‘´´" + "u"	>	 index(Vyanjana,1)"ð‘´µ"	 c uu
any(Vyanjana)"ð‘´º" + "e"	>	 index(Vyanjana,1)"ð‘´³"	 c ee
any(Vyanjana)"ð‘´º" + "i"	>	index(Vyanjana,1)"ð‘´¼"	 c ei
any(Vyanjana)"ð‘´½" + "o"	>	 index(Vyanjana,1)"ð‘´µ"	 c oo
any(Vyanjana)"ð‘´½" + "u"	>	index(Vyanjana,1)"ð‘´¿"	 c ou

any(Vyanjana)"ð‘µ†" + "a"	>	index(Vyanjana,1)"ð‘µ‡"	 c ra
any(Vyanjana)"ð‘µ†" + "i"	>	index(Vyanjana,1)"ð‘µ‡ð‘´²"	 c ri
any(Vyanjana)"ð‘µ†" + "o" >  index(Vyanjana,1)"ð‘µ‡ð‘´½" c ro
any(Vyanjana)"ð‘µ†" + "e" >  index(Vyanjana,1)"ð‘µ‡ð‘´º" c re
any(Vyanjana)"ð‘µ‡" + "a" >   index(Vyanjana,1)"ð‘µ‡ð‘´±" c raa
any(Vyanjana)"ð‘µ‡ð‘´²" + "i" >   index(Vyanjana,1)"ð‘µ‡ð‘´³" c rrii

$keymanonly: if(opt1 = 'gondi') any(NuktaVyanjana)"ð‘µ‚" "ð‘µ„" + any(opt1endings)	>	index(NuktaVyanjana,2)"ð‘µ‚" index(opt1endings,5)
$keymanonly: if(opt1 = 'gondi') any(NuktaVyanjana)"ð‘µ‚" "ð‘µ„" + "`"	>	index(NuktaVyanjana,2) "Ê¼"
$keymanonly: if(opt1 = 'gondi') any(NuktaVyanjana)"ð‘µ‚" "ð‘µ„" + "^"	>	index(NuktaVyanjana,2) "ð‘µ„" U+200C
$keymanonly: if(opt1 = 'gondi') any(NuktaVyanjana)"ð‘µ‚" + "^"	>	index(NuktaVyanjana,2) "ð‘µ„" U+200C

any(NuktaVyanjana)"ð‘µ‚""ð‘µ„" + "^"	>	index(NuktaVyanjana,1)"ð‘µ‚""ð‘µ„"
any(NuktaVyanjana)"ð‘µ‚""ð‘µ„" + "a"	>	index(NuktaVyanjana,1)"ð‘µ‚"
any(NuktaVyanjana)"ð‘µ‚" + any(aPlusMaatraa) 	>	context index(aPlusMaatraaU,3) 
any(NuktaVyanjana)"ð‘µ‚""ð‘µ„" + any(ViramaMaatraa) 	>	index(NuktaVyanjana,1)"ð‘µ‚" index(ViramaMaatraaU,4) 
any(NuktaVyanjana)"ð‘µ‚""ð‘´²" + "i"	>	 index(NuktaVyanjana,1)"ð‘µ‚""ð‘´³"	 c ii
any(NuktaVyanjana)"ð‘µ‚""ð‘´´" + "u"	>	 index(NuktaVyanjana,1)"ð‘µ‚""ð‘´µ"	 c uu
any(NuktaVyanjana)"ð‘µ‚""ð‘´º" + "e"	>	 index(NuktaVyanjana,1)"ð‘µ‚""ð‘´³"	 c ee
any(NuktaVyanjana)"ð‘µ‚""ð‘´º" + "i"	>	index(NuktaVyanjana,1)"ð‘µ‚""ð‘´¼"	 c ei
any(NuktaVyanjana)"ð‘µ‚""ð‘´½" + "o"	>	 index(NuktaVyanjana,1)"ð‘µ‚""ð‘´µ"	 c oo
any(NuktaVyanjana)"ð‘µ‚""ð‘´½" + "u"	>	index(NuktaVyanjana,1)"ð‘µ‚""ð‘´¿"	 c ou

